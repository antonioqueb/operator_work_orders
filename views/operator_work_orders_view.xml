<odoo>
    <data>
        <!-- Vista heredada de árbol de órdenes de trabajo -->
        <record id="view_workorder_tree_operator_inherit" model="ir.ui.view">
            <field name="name">workorder.tree.operator.inherit</field>
            <field name="model">mrp.workorder</field>
            <field name="inherit_id" ref="mrp.view_workorder_tree_operator"/>
            <field name="arch" type="xml">
                <xpath expr="//tree" position="attributes">
                    <attribute name="create">0</attribute>
                    <attribute name="sample">1</attribute>
                    <attribute name="editable"/>
                </xpath>
                <xpath expr="//field[@name='workcenter_id']" position="after">
                    <field name="production_id" optional="hide"/>
                </xpath>
                <xpath expr="//field[@name='state']" position="attributes">
                    <attribute name="invisible">production_state == 'draft'</attribute>
                    <attribute name="column_invisible">False</attribute>
                </xpath>
            </field>
        </record>

        <!-- Vista heredada de Kanban de órdenes de trabajo -->
        <record id="view_workorder_kanban_operator_inherit" model="ir.ui.view">
            <field name="name">workorder.kanban.operator.inherit</field>
            <field name="model">mrp.workorder</field>
            <field name="inherit_id" ref="mrp.view_workorder_kanban_operator"/>
            <field name="arch" type="xml">
                <xpath expr="//kanban" position="inside">
                    <!-- Aquí puedes agregar o modificar elementos en la vista Kanban -->
                </xpath>
            </field>
        </record>

        <!-- Acción de ventana -->
        <record id="action_work_orders_operator" model="ir.actions.act_window">
            <field name="name">Órdenes de Trabajo</field>
            <field name="res_model">mrp.workorder</field>
            <field name="view_mode">tree,form,kanban</field>
            <field name="view_id" ref="view_workorder_tree_operator_inherit"/>
            <field name="context">{'search_default_ready_to_start': 1}</field>
            <field name="domain">[]</field>
            <field name="groups_id" eval="[(4, ref('operator_work_orders.group_machine_operator'))]"/>
        </record>

        <!-- Menú -->
        <menuitem id="menu_work_orders_operator_root"
                  name="Órdenes de Trabajo"
                  action="action_work_orders_operator"
                  groups="operator_work_orders.group_machine_operator"/>
    </data>
</odoo>
