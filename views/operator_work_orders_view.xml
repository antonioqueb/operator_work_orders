<odoo>
    <data>
        <!-- Vista de órdenes de trabajo solo accesible para el grupo Operador de Máquina -->
        <record id="view_workorder_tree_operator" model="ir.ui.view">
            <field name="name">workorder.tree.operator</field>
            <field name="model">mrp.workorder</field>
            <field name="arch" type="xml">
                <tree string="Órdenes de Trabajo">
                    <field name="name"/>
                    <field name="state"/>
                    <field name="workcenter_id"/>
                    <field name="production_id"/>
                </tree>
            </field>
        </record>

        <!-- Acción de ventana para mostrar las órdenes de trabajo -->
        <record id="action_work_orders_operator" model="ir.actions.act_window">
            <field name="name">Órdenes de Trabajo</field>
            <field name="res_model">mrp.workorder</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_workorder_tree_operator"/>
            <field name="context">{'search_default_ready_to_start': 1}</field>
            <field name="groups_id" eval="[(4, ref('operator_work_orders.group_machine_operator'))]"/>
        </record>

        <!-- Menú para acceder a las órdenes de trabajo en el menú root -->
        <menuitem id="menu_work_orders_operator_root"
                  name="Órdenes de Trabajo"
                  action="action_work_orders_operator"
                  groups="operator_work_orders.group_machine_operator"/>
    </data>
</odoo>
